{"version":3,"sources":["components/Div/Div.jsx","constants/index.js","containers/Game/Game.jsx","components/P/P.jsx","components/Button/Button.jsx","components/Span/Span.jsx","containers/Info/Info.jsx","components/H1/H1.jsx","helpers/LS.js","App.js","serviceWorker.js","reducers/index.js","index.js"],"names":["Div","props","react_default","a","createElement","className","cn","onClick","Children","toArray","children","POSSIBLE_STEPS","LOCALSTORAGE_SESSION_NAME","Game","clickHandler","e","_this$props","_this","emptyIndex","array","number","target","innerText","index","findIndex","i","parseInt","forEach","step","move","newIndex","_this$props2","onUpdate","onSaveGame","onCheckResult","onMove","empty","newValue","win","this","some","item","setState","_this2","map","components_Div_Div","key","concat","isWin","Component","P","Button","Span","Info","resetGame","onResetGame","components_P_P","components_Span_Span","moves","components_Button_Button","H1","LS","LocalStorage","Object","classCallCheck","_ls","window","localStorage","result","getItem","JSON","parse","err","console","warn","obj","stringify","setItem","removeItem","clear","App","componentDidMount","get","game","dispatch","type","payloads","mixedArray","saveGame","onUpdateMixedCells","onIncrementMoves","remove","isSavedSession","components_H1_H1","containers_Info_Info","containers_Game_Game","connect","state","initialArray","Boolean","location","hostname","match","initialState","reducer","arguments","length","undefined","action","sort","Math","random","objectSpread","_action$payloads","_action$payloads2","set","store","createStore","ReactDOM","render","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"+SAiBeA,EAdH,SAACC,GACT,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAMK,GAAIC,QAASN,EAAMM,SACpCC,WAASC,QAAQR,EAAMS,YCJvBC,EAAiB,EAAE,EAAG,EAAG,GAAK,GAC9BC,EAA4B,iBCkH1BC,oNA5FXC,aAAe,SAACC,GAAM,IAAAC,EAIdC,EAAKhB,MAFLiB,EAFcF,EAEdE,WACAC,EAHcH,EAGdG,MAEEC,EAASL,EAAEM,OAAOC,UAGxB,GAAIF,EAAQ,CACR,IAAMG,EAAQJ,EAAMK,UAAU,SAAAC,GAAC,OAAIA,IAAMC,SAASN,KAElDT,EAAegB,QAAQ,SAAAC,IAGbV,EAAaU,EAAO,IAAQV,EAAaU,IAASL,GAClDL,EAAaU,EAAO,GAAOV,EAAaU,IAASL,IAEnDN,EAAKY,KAAKN,SAM1BM,KAAO,SAACC,GAAa,IAAAC,EAQbd,EAAKhB,MANLiB,EAFaa,EAEbb,WACAC,EAHaY,EAGbZ,MACAa,EAJaD,EAIbC,SACAC,EALaF,EAKbE,WACAC,EANaH,EAMbG,cACAC,EAPaJ,EAObI,OAEEC,EAAQjB,EAAMD,GACdmB,EAAWlB,EAAMW,GAGvBX,EAAMW,GAAYM,EAClBjB,EAAMD,GAAcmB,EAGpBF,IAGAH,EAASb,EAAOW,GAGhBG,IAGAC,kFAIA,IAAMI,GAAOC,KAAKtC,MAAMkB,MAAMqB,KAAK,SAACC,EAAMlB,GACtC,OAAQkB,EAAO,GAAOA,EAAM,IAAMlB,IAGtCgB,KAAKG,SAAS,CACVJ,yCAIC,IAAAK,EAAAJ,KAEDpB,EACAoB,KAAKtC,MADLkB,MAGJ,OACIjB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACVc,EAAMyB,IAAI,SAAAxB,GACP,IAAMgB,EAAmB,UAAXhB,EAAqB,QAAU,GAE7C,OACIlB,EAAAC,EAAAC,cAACyC,EAAD,CACIC,IAAM1B,EACNd,GAAE,cAAAyC,OAAgBX,GAClB7B,QAASoC,EAAK7B,cAED,UAAXM,GAAsBA,KAIpClB,EAAAC,EAAAC,cAAA,UACKmC,KAAKtC,MAAM+C,OACR9C,EAAAC,EAAAC,cAAA,+BAlGL6C,cCKJC,EAbL,SAACjD,GACP,OACIC,EAAAC,EAAAC,cAAA,KAAGC,UAAWJ,EAAMK,IACfE,WAASC,QAAQR,EAAMS,YCcrByC,EAjBA,SAAClD,GACZ,OACIC,EAAAC,EAAAC,cAAA,UACIC,UAAWJ,EAAMK,GACjBC,QAASN,EAAMM,SAEdC,WAASC,QAAQR,EAAMS,YCOrB0C,SAbF,SAACnD,GACV,OACIC,EAAAC,EAAAC,cAAA,QAAMC,UAAWJ,EAAMK,IAClBE,WAASC,QAAQR,EAAMS,aC+BrB2C,6MAtBXC,UAAY,WACRrC,EAAKhB,MAAMsD,uFAIX,OACIrD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAACoD,EAAD,CAAGlD,GAAG,eAAN,SAEIJ,EAAAC,EAAAC,cAACqD,EAAD,CAAMnD,GAAG,iBAAiBiC,KAAKtC,MAAMyD,OACrCxD,EAAAC,EAAAC,cAACuD,EAAD,CACIrD,GAAG,eACHC,QAASgC,KAAKe,WAFlB,uBAhBDL,aCOJW,EAbJ,SAAC3D,GACR,OACIC,EAAAC,EAAAC,cAAA,MAAIC,UAAWJ,EAAMK,IAChBE,WAASC,QAAQR,EAAMS,YC6BrBmD,EAAA,eAlCX,SAAAC,IAAeC,OAAAC,EAAA,EAAAD,CAAAxB,KAAAuB,GACXvB,KAAK0B,IAAMC,OAAOC,6DAGlBrB,GACA,IAAIsB,EAAS7B,KAAK0B,IAAII,QAAQvB,GAK9B,IACIsB,EAASE,KAAKC,MAAMH,GACtB,MAAOI,GACLC,QAAQC,KAAKF,GAGjB,OAAOJ,8BAGPtB,EAAK6B,GACL,IAAMlC,EAAO6B,KAAKM,UAAUD,GAE5BpC,KAAK0B,IAAIY,QAAQ/B,EAAKL,kCAGnBK,GACHP,KAAK0B,IAAIa,WAAWhC,mCAIpBP,KAAK0B,IAAIc,kBCdXC,oNACFC,kBAAoB,WAChB,GAAInB,EAAaoB,IAAItE,GAA4B,CAC7C,IAAMuE,EAAOb,KAAKC,MAAMT,EAAaoB,IAAItE,IAEzCK,EAAKhB,MAAMmF,SAAS,CAChBC,KAAM,YACNC,SAAU,CACNC,WAAYJ,EAAKhE,MACjBD,WAAYiE,EAAK/C,MACjBsB,MAAOyB,EAAKzB,cAIpBzC,EAAKhB,MAAMmF,SAAS,CAChBC,KAAM,iBAKlBG,SAAW,WACPvE,EAAKhB,MAAMmF,SAAS,CAChBC,KAAM,iBAIdI,mBAAqB,SAACtE,EAAOiB,GACzBnB,EAAKhB,MAAMmF,SAAS,CAChBC,KAAM,eACNC,SAAU,CACNC,WAAYpE,EACZD,WAAYkB,QAKxBF,cAAgB,WACZjB,EAAKhB,MAAMmF,SAAS,CAChBC,KAAM,kBAIdK,iBAAmB,WACfzE,EAAKhB,MAAMmF,SAAS,CAChBC,KAAM,YAId9B,YAAc,WACVO,EAAa6B,OAAO/E,GAEpBK,EAAKhB,MAAMmF,SAAS,CAChBC,KAAM,uFAIL,IAAArE,EAODuB,KAAKtC,MALLsF,EAFCvE,EAEDuE,WACArE,EAHCF,EAGDE,WACAoB,EAJCtB,EAIDsB,IACAoB,EALC1C,EAKD0C,MACAkC,EANC5E,EAMD4E,eAGJ,OACI1F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAACyF,EAAD,CAAIvF,GAAG,gBAAP,iBACEsF,GACE1F,EAAAC,EAAAC,cAACoD,EAAD,CAAGlD,GAAG,aAAN,4CAIJJ,EAAAC,EAAAC,cAAC0F,EAAD,CACIpC,MAAOA,EACPH,YAAahB,KAAKgB,cAErBgC,GACGrF,EAAAC,EAAAC,cAAC2F,EAAD,CACI5E,MAAOoE,EACPrE,WAAYA,EACZ8B,MAAOV,EACPN,SAAUO,KAAKkD,mBACfxD,WAAYM,KAAKiD,SACjBtD,cAAeK,KAAKL,cACpBC,OAAQI,KAAKmD,2BArFnBzC,cAsGH+C,cATS,SAAAC,GAAK,MAAK,CAC9BC,aAAcD,EAAMC,aACpBhF,WAAY+E,EAAM/E,WAClBqE,WAAYU,EAAMV,WAClBjD,IAAK2D,EAAM3D,IACXoB,MAAOuC,EAAMvC,MACbkC,eAAgBK,EAAML,iBAGXI,CAAyBhB,GC3GpBmB,QACW,cAA7BjC,OAAOkC,SAASC,UAEe,UAA7BnC,OAAOkC,SAASC,UAEhBnC,OAAOkC,SAASC,SAASC,MACvB,6ECZAC,EAAe,CACjBL,aVPyB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IUQzEhF,WVP0C,GUQ1CqE,WAAY,KACZjD,KAAK,EACLoB,MAAO,EACPkC,gBAAgB,GA0ELY,EAvEC,WAAkC,IAAjCP,EAAiCQ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBF,EAAcK,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC9C,OAAQC,EAAOvB,MACX,IAAK,YACD,IAAME,EAAaU,EAAMC,aAAaW,KAAK,kBAAMC,KAAKC,SAAS,KAAIhE,OAAO,SAE1E,OAAOgB,OAAAiD,EAAA,EAAAjD,CAAA,GACAkC,EADP,CAEIV,aACA7B,MAAO,IAGf,IAAK,YAAa,IAAAuD,EAKVL,EAAOtB,SAHPC,EAFU0B,EAEV1B,WACArE,EAHU+F,EAGV/F,WACAwC,EAJUuD,EAIVvD,MAGJ,OAAOK,OAAAiD,EAAA,EAAAjD,CAAA,GACAkC,EADP,CAEIV,aACArE,aACAwC,QACAkC,gBAAgB,IAGxB,IAAK,eAAgB,IAAAsB,EAIbN,EAAOtB,SAFPC,EAFa2B,EAEb3B,WACArE,EAHagG,EAGbhG,WAGJ,OAAO6C,OAAAiD,EAAA,EAAAjD,CAAA,GACAkC,EADP,CAEIV,aACArE,eAGR,IAAK,OACD,OAAO6C,OAAAiD,EAAA,EAAAjD,CAAA,GACAkC,EADP,CAEIvC,MAAOuC,EAAMvC,MAAQ,IAG7B,IAAK,aACD,IAAMpB,GAAO2D,EAAMV,WAAW/C,KAAK,SAACC,EAAMlB,GACtC,OAAQkB,EAAO,GAAOA,EAAM,IAAMlB,IAGtC,OAAOwC,OAAAiD,EAAA,EAAAjD,CAAA,GACAkC,EADP,CAEI3D,QAGR,IAAK,YACD,IAAM6C,EAAO,CACThE,MAAO8E,EAAMV,WACbnD,MAAO6D,EAAM/E,WACbwC,MAAOuC,EAAMvC,OAKjB,OAFAI,EAAaqD,IAAIvG,EAA2B0D,KAAKM,UAAUO,IAEpDc,EAEX,QACI,OAAOA,ICvEbmB,EAAQC,YAAYb,GAE1Bc,IAASC,OACLrH,EAAAC,EAAAC,cAACoH,EAAA,EAAD,CAAUJ,MAAOA,GACblH,EAAAC,EAAAC,cAACqH,EAAD,OACSC,SAASC,eAAe,SFkHnC,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.7761c7b8.chunk.js","sourcesContent":["import React, { Children } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Div = (props) => {\r\n    return (\r\n        <div className={props.cn} onClick={props.onClick}>\r\n            {Children.toArray(props.children)}\r\n        </div>\r\n    );\r\n};\r\n\r\nDiv.propTypes = {\r\n    cn: PropTypes.string,\r\n    onClick: PropTypes.func,\r\n    children: PropTypes.node\r\n};\r\n\r\nexport default Div;","export const INITIAL_ARRAY = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]; //16th for empty cell\r\nexport const INITIAL_POSITION_OF_EMPTY_CELL = 15;\r\nexport const POSSIBLE_STEPS = [-4, 1, +4, -1]; // Top, right, down, left\r\nexport const LOCALSTORAGE_SESSION_NAME = 'toxuh_fifteens';","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Div from \"../../components/Div\";\r\n\r\nimport {\r\n    POSSIBLE_STEPS\r\n} from \"../../constants/index\";\r\n\r\nimport './Game.css';\r\n\r\nclass Game extends Component {\r\n    static propTypes = {\r\n        array: PropTypes.arrayOf(PropTypes.oneOfType([\r\n            PropTypes.number,\r\n            PropTypes.string\r\n        ])),\r\n        emptyIndex: PropTypes.number,\r\n        isWin: PropTypes.bool,\r\n        onUpdate: PropTypes.func,\r\n        onSaveGame: PropTypes.func,\r\n        onCheckResult: PropTypes.func,\r\n        onMove: PropTypes.func\r\n    };\r\n\r\n    clickHandler = (e) => {\r\n        const {\r\n            emptyIndex,\r\n            array\r\n        } = this.props;\r\n        const number = e.target.innerText;\r\n\r\n        // If click on number cell\r\n        if (number) {\r\n            const index = array.findIndex(i => i === parseInt(number));\r\n\r\n            POSSIBLE_STEPS.forEach(step => {\r\n                // Checks that it is possible move\r\n                if (\r\n                    ((emptyIndex + step < 16) && (emptyIndex + step === index)) ||\r\n                    ((emptyIndex + step > 0) && (emptyIndex + step === index))\r\n                ) {\r\n                    this.move(index);\r\n                }\r\n            })\r\n        }\r\n    };\r\n\r\n    move = (newIndex) => {\r\n        const {\r\n            emptyIndex,\r\n            array,\r\n            onUpdate,\r\n            onSaveGame,\r\n            onCheckResult,\r\n            onMove\r\n        } = this.props;\r\n        const empty = array[emptyIndex];\r\n        const newValue = array[newIndex];\r\n\r\n        // Making array with new positions\r\n        array[newIndex] = empty;\r\n        array[emptyIndex] = newValue;\r\n\r\n        // Increment moves counter\r\n        onMove();\r\n\r\n        // Update app with new array\r\n        onUpdate(array, newIndex);\r\n\r\n        // Save current game to local storage\r\n        onSaveGame();\r\n\r\n        // Check if game over\r\n        onCheckResult();\r\n    };\r\n\r\n    checkResult() {\r\n        const win = !this.props.array.some((item, index) => {\r\n            return (item > 0) && (item -1 !== index)\r\n        });\r\n\r\n        this.setState({\r\n            win\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            array\r\n        } = this.props;\r\n\r\n        return (\r\n            <div className=\"Game\">\r\n                {array.map(number => {\r\n                    const empty = number === 'empty' ? 'empty' : '';\r\n\r\n                    return (\r\n                        <Div\r\n                            key={ number }\r\n                            cn={`Game__cell ${empty}`}\r\n                            onClick={this.clickHandler}\r\n                        >\r\n                            { number !== 'empty' && number }\r\n                        </Div>\r\n                    )\r\n                })}\r\n                <h1>\r\n                    {this.props.isWin && (\r\n                        <span>WIN!!!</span>\r\n                    )}\r\n                </h1>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Game;","import React, { Children } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst P = (props) => {\r\n    return (\r\n        <p className={props.cn}>\r\n            {Children.toArray(props.children)}\r\n        </p>\r\n    );\r\n};\r\n\r\nP.propTypes = {\r\n    cn: PropTypes.string,\r\n    children: PropTypes.node\r\n};\r\n\r\nexport default P;","import React, { Children } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = (props) => {\r\n    return (\r\n        <button\r\n            className={props.cn}\r\n            onClick={props.onClick}\r\n        >\r\n            {Children.toArray(props.children)}\r\n        </button>\r\n    );\r\n};\r\n\r\nButton.propTypes = {\r\n    cn: PropTypes.string,\r\n    onClick: PropTypes.func,\r\n    children: PropTypes.node.isRequired\r\n};\r\n\r\nexport default Button;","import React, { Children } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Span = (props) => {\r\n    return (\r\n        <span className={props.cn}>\r\n            {Children.toArray(props.children)}\r\n        </span>\r\n    );\r\n};\r\n\r\nSpan.propTypes = {\r\n    cn: PropTypes.string,\r\n    children: PropTypes.node\r\n};\r\n\r\nexport default Span;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport P from \"../../components/P\";\r\nimport Button from \"../../components/Button/Button\";\r\n\r\nimport './Info.css';\r\nimport Span from \"../../components/Span/Span\";\r\n\r\nclass Info extends Component {\r\n    static propTypes = {\r\n        moves: PropTypes.number,\r\n        onResetGame: PropTypes.func\r\n    };\r\n\r\n    resetGame = () => {\r\n        this.props.onResetGame();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Info\">\r\n                <P cn=\"Info__steps\">\r\n                    Moves:\r\n                    <Span cn=\"Info__counter\">{this.props.moves}</Span>\r\n                    <Button\r\n                        cn=\"Info__button\"\r\n                        onClick={this.resetGame}\r\n                    >\r\n                        Reset Game\r\n                    </Button>\r\n                </P>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Info;","import React, { Children } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst H1 = (props) => {\r\n    return (\r\n        <h1 className={props.cn} >\r\n            {Children.toArray(props.children)}\r\n        </h1>\r\n    );\r\n};\r\n\r\nH1.propTypes = {\r\n    cn: PropTypes.string,\r\n    children: PropTypes.node.isRequired\r\n};\r\n\r\nexport default H1;","class LocalStorage {\r\n    constructor() {\r\n        this._ls = window.localStorage;\r\n    }\r\n\r\n    get(key) {\r\n        let result = this._ls.getItem(key);\r\n\r\n        /**\r\n         * Hack for undefined\r\n         */\r\n        try {\r\n            result = JSON.parse(result);\r\n        } catch (err) {\r\n            console.warn(err);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    set(key, obj) {\r\n        const item = JSON.stringify(obj);\r\n\r\n        this._ls.setItem(key, item);\r\n    }\r\n\r\n    remove(key) {\r\n        this._ls.removeItem(key);\r\n    }\r\n\r\n    clear() {\r\n        this._ls.clear();\r\n    }\r\n}\r\n\r\nexport default new LocalStorage();","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport Game from './containers/Game';\nimport Info from './containers/Info';\n\nimport H1 from \"./components/H1/H1\";\nimport P from \"./components/P/P\";\n\nimport LocalStorage from './helpers/LS'\n\nimport {\n    LOCALSTORAGE_SESSION_NAME\n} from './constants'\n\nimport './App.css';\n\nclass App extends Component {\n    componentDidMount = () => {\n        if (LocalStorage.get(LOCALSTORAGE_SESSION_NAME)) {\n            const game = JSON.parse(LocalStorage.get(LOCALSTORAGE_SESSION_NAME));\n\n            this.props.dispatch({\n                type: 'LOAD_GAME',\n                payloads: {\n                    mixedArray: game.array,\n                    emptyIndex: game.empty,\n                    moves: game.moves\n                }\n            })\n        } else {\n            this.props.dispatch({\n                type: 'MIX_ARRAY'\n            })\n        }\n    };\n\n    saveGame = () => {\n        this.props.dispatch({\n            type: 'SAVE_GAME'\n        });\n    };\n\n    onUpdateMixedCells = (array, empty) => {\n        this.props.dispatch({\n            type: 'UPDATE_BOARD',\n            payloads: {\n                mixedArray: array,\n                emptyIndex: empty\n            }\n        });\n    };\n\n    onCheckResult = () => {\n        this.props.dispatch({\n            type: 'CHECK_GAME'\n        })\n    };\n\n    onIncrementMoves = () => {\n        this.props.dispatch({\n            type: 'MOVE'\n        });\n    };\n\n    onResetGame = () => {\n        LocalStorage.remove(LOCALSTORAGE_SESSION_NAME);\n\n        this.props.dispatch({\n            type: 'MIX_ARRAY'\n        })\n    };\n\n    render() {\n        const {\n            mixedArray,\n            emptyIndex,\n            win,\n            moves,\n            isSavedSession\n        } = this.props;\n\n        return (\n            <div className=\"App\">\n                <H1 cn=\"App__heading\">Fifteens game</H1>\n                { isSavedSession && (\n                    <P cn=\"App__lead\">\n                        Yor game was restored from last session.\n                    </P>\n                ) }\n                <Info\n                    moves={moves}\n                    onResetGame={this.onResetGame}\n                />\n                {mixedArray &&\n                    <Game\n                        array={mixedArray}\n                        emptyIndex={emptyIndex}\n                        isWin={win}\n                        onUpdate={this.onUpdateMixedCells}\n                        onSaveGame={this.saveGame}\n                        onCheckResult={this.onCheckResult}\n                        onMove={this.onIncrementMoves}\n                    />\n                }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    initialArray: state.initialArray,\n    emptyIndex: state.emptyIndex,\n    mixedArray: state.mixedArray,\n    win: state.win,\n    moves: state.moves,\n    isSavedSession: state.isSavedSession\n});\n\nexport default connect(mapStateToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import LocalStorage from '../helpers/LS'\r\nimport {\r\n    INITIAL_ARRAY,\r\n    INITIAL_POSITION_OF_EMPTY_CELL, LOCALSTORAGE_SESSION_NAME\r\n} from \"../constants\";\r\n\r\nconst initialState = {\r\n    initialArray: INITIAL_ARRAY,\r\n    emptyIndex: INITIAL_POSITION_OF_EMPTY_CELL,\r\n    mixedArray: null,\r\n    win: false,\r\n    moves: 0,\r\n    isSavedSession: false\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'MIX_ARRAY': {\r\n            const mixedArray = state.initialArray.sort(() => Math.random()-.5).concat('empty');\r\n\r\n            return {\r\n                ...state,\r\n                mixedArray,\r\n                moves: 0\r\n            }\r\n        }\r\n        case 'LOAD_GAME': {\r\n            const {\r\n                mixedArray,\r\n                emptyIndex,\r\n                moves\r\n            } = action.payloads;\r\n\r\n            return {\r\n                ...state,\r\n                mixedArray,\r\n                emptyIndex,\r\n                moves,\r\n                isSavedSession: true\r\n            }\r\n        }\r\n        case 'UPDATE_BOARD': {\r\n            const {\r\n                mixedArray,\r\n                emptyIndex\r\n            } = action.payloads;\r\n\r\n            return {\r\n                ...state,\r\n                mixedArray,\r\n                emptyIndex\r\n            }\r\n        }\r\n        case 'MOVE': {\r\n            return {\r\n                ...state,\r\n                moves: state.moves + 1\r\n            }\r\n        }\r\n        case 'CHECK_GAME': {\r\n            const win = !state.mixedArray.some((item, index) => {\r\n                return (item > 0) && (item -1 !== index)\r\n            });\r\n\r\n            return {\r\n                ...state,\r\n                win\r\n            }\r\n        }\r\n        case 'SAVE_GAME': {\r\n            const game = {\r\n                array: state.mixedArray,\r\n                empty: state.emptyIndex,\r\n                moves: state.moves\r\n            };\r\n\r\n            LocalStorage.set(LOCALSTORAGE_SESSION_NAME, JSON.stringify(game));\r\n\r\n            return state;\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport reducer from './reducers';\n\nconst store = createStore(reducer);\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}