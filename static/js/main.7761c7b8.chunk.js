(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(35)},22:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),i=n.n(o),c=(n(22),n(2)),s=n(3),l=n(5),m=n(4),p=n(6),u=n(9),d=function(e){return r.a.createElement("div",{className:e.cn,onClick:e.onClick},a.Children.toArray(e.children))},y=[-4,1,4,-1],v="toxuh_fifteens",h=(n(29),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).clickHandler=function(e){var t=n.props,a=t.emptyIndex,r=t.array,o=e.target.innerText;if(o){var i=r.findIndex(function(e){return e===parseInt(o)});y.forEach(function(e){(a+e<16&&a+e===i||a+e>0&&a+e===i)&&n.move(i)})}},n.move=function(e){var t=n.props,a=t.emptyIndex,r=t.array,o=t.onUpdate,i=t.onSaveGame,c=t.onCheckResult,s=t.onMove,l=r[a],m=r[e];r[e]=l,r[a]=m,s(),o(r,e),i(),c()},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"checkResult",value:function(){var e=!this.props.array.some(function(e,t){return e>0&&e-1!==t});this.setState({win:e})}},{key:"render",value:function(){var e=this,t=this.props.array;return r.a.createElement("div",{className:"Game"},t.map(function(t){var n="empty"===t?"empty":"";return r.a.createElement(d,{key:t,cn:"Game__cell ".concat(n),onClick:e.clickHandler},"empty"!==t&&t)}),r.a.createElement("h1",null,this.props.isWin&&r.a.createElement("span",null,"WIN!!!")))}}]),t}(a.Component)),f=function(e){return r.a.createElement("p",{className:e.cn},a.Children.toArray(e.children))},A=function(e){return r.a.createElement("button",{className:e.cn,onClick:e.onClick},a.Children.toArray(e.children))},E=(n(31),function(e){return r.a.createElement("span",{className:e.cn},a.Children.toArray(e.children))}),O=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).resetGame=function(){n.props.onResetGame()},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Info"},r.a.createElement(f,{cn:"Info__steps"},"Moves:",r.a.createElement(E,{cn:"Info__counter"},this.props.moves),r.a.createElement(A,{cn:"Info__button",onClick:this.resetGame},"Reset Game")))}}]),t}(a.Component),x=function(e){return r.a.createElement("h1",{className:e.cn},a.Children.toArray(e.children))},b=new(function(){function e(){Object(c.a)(this,e),this._ls=window.localStorage}return Object(s.a)(e,[{key:"get",value:function(e){var t=this._ls.getItem(e);try{t=JSON.parse(t)}catch(n){console.warn(n)}return t}},{key:"set",value:function(e,t){var n=JSON.stringify(t);this._ls.setItem(e,n)}},{key:"remove",value:function(e){this._ls.removeItem(e)}},{key:"clear",value:function(){this._ls.clear()}}]),e}()),I=(n(33),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){if(b.get(v)){var e=JSON.parse(b.get(v));n.props.dispatch({type:"LOAD_GAME",payloads:{mixedArray:e.array,emptyIndex:e.empty,moves:e.moves}})}else n.props.dispatch({type:"MIX_ARRAY"})},n.saveGame=function(){n.props.dispatch({type:"SAVE_GAME"})},n.onUpdateMixedCells=function(e,t){n.props.dispatch({type:"UPDATE_BOARD",payloads:{mixedArray:e,emptyIndex:t}})},n.onCheckResult=function(){n.props.dispatch({type:"CHECK_GAME"})},n.onIncrementMoves=function(){n.props.dispatch({type:"MOVE"})},n.onResetGame=function(){b.remove(v),n.props.dispatch({type:"MIX_ARRAY"})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.mixedArray,n=e.emptyIndex,a=e.win,o=e.moves,i=e.isSavedSession;return r.a.createElement("div",{className:"App"},r.a.createElement(x,{cn:"App__heading"},"Fifteens game"),i&&r.a.createElement(f,{cn:"App__lead"},"Yor game was restored from last session."),r.a.createElement(O,{moves:o,onResetGame:this.onResetGame}),t&&r.a.createElement(h,{array:t,emptyIndex:n,isWin:a,onUpdate:this.onUpdateMixedCells,onSaveGame:this.saveGame,onCheckResult:this.onCheckResult,onMove:this.onIncrementMoves}))}}]),t}(a.Component)),_=Object(u.b)(function(e){return{initialArray:e.initialArray,emptyIndex:e.emptyIndex,mixedArray:e.mixedArray,win:e.win,moves:e.moves,isSavedSession:e.isSavedSession}})(I);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=n(8),k=n(7),j={initialArray:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],emptyIndex:15,mixedArray:null,win:!1,moves:0,isSavedSession:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MIX_ARRAY":var n=e.initialArray.sort(function(){return Math.random()-.5}).concat("empty");return Object(k.a)({},e,{mixedArray:n,moves:0});case"LOAD_GAME":var a=t.payloads,r=a.mixedArray,o=a.emptyIndex,i=a.moves;return Object(k.a)({},e,{mixedArray:r,emptyIndex:o,moves:i,isSavedSession:!0});case"UPDATE_BOARD":var c=t.payloads,s=c.mixedArray,l=c.emptyIndex;return Object(k.a)({},e,{mixedArray:s,emptyIndex:l});case"MOVE":return Object(k.a)({},e,{moves:e.moves+1});case"CHECK_GAME":var m=!e.mixedArray.some(function(e,t){return e>0&&e-1!==t});return Object(k.a)({},e,{win:m});case"SAVE_GAME":var p={array:e.mixedArray,empty:e.emptyIndex,moves:e.moves};return b.set(v,JSON.stringify(p)),e;default:return e}},g=Object(w.b)(C);i.a.render(r.a.createElement(u.a,{store:g},r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.7761c7b8.chunk.js.map